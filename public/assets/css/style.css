
*{box-sizing:border-box}
:root{
  --keris-blue:#004B87;
  --keris-blue-2:#0066B3;
  --glass:rgba(255,255,255,.12);
  --glass-strong:rgba(255,255,255,.95);
  --border:rgba(255,255,255,.28);
  --text:#222;
}
html,body{height:100%;margin:0;font-family:system-ui,'Noto Sans KR',sans-serif;background:linear-gradient(135deg,#667eea,#764ba2)}
body{min-height:100dvh;padding-bottom:env(safe-area-inset-bottom)}
.container{display:flex;gap:12px;height:100dvh;max-width:1200px;margin:0 auto;padding:12px}
.sidebar{width:320px;background:var(--glass);backdrop-filter:blur(12px);border-radius:16px;padding:16px;color:#fff;overflow:auto;border:1px solid var(--border)}
.logo{font-weight:800;letter-spacing:.1em;margin-bottom:8px}
.controls{display:flex;flex-direction:column;gap:6px;margin:8px 0 16px}
.controls label{font-size:.9rem;opacity:.9}
.controls select{padding:10px;border-radius:10px;border:1px solid var(--border);background:rgba(255,255,255,.1);color:#fff;outline:none}
.notices h3{margin:8px 0 6px}
.notices ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.notice{padding:10px;border-radius:10px;background:rgba(255,255,255,.12);border:1px solid var(--border)}
.notice .date{opacity:.9;font-size:.82rem;margin-bottom:2px}
.notice .title{font-size:.95rem}

.chat{flex:1;display:flex;flex-direction:column;background:var(--glass);backdrop-filter:blur(12px);border-radius:16px;color:#fff;border:1px solid var(--border)}
.chat-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border)}
.status{padding:6px 10px;border-radius:16px;background:rgba(77,166,214,.18);border:1px solid rgba(77,166,214,.35)}

.messages{flex:1;overflow:auto;padding:12px 16px;display:flex;flex-direction:column;gap:10px;scroll-behavior:smooth}
.message{max-width:78%;padding:10px 12px;border-radius:14px;line-height:1.45}
.message.user{align-self:flex-end;background:rgba(255,255,255,.18);border:1px solid var(--border)}
.message.ai{align-self:flex-start;background:var(--glass-strong);color:var(--text);border:1px solid rgba(255,255,255,.6)}
.message .label{display:block;font-size:.72rem;opacity:.6;margin-bottom:4px}
.message .md p{margin:.3em 0}

.typing{display:inline-flex;gap:6px;padding:10px 12px;border-radius:14px;background:var(--glass-strong);color:var(--text);border:1px solid rgba(255,255,255,.6)}
.dot{width:8px;height:8px;background:var(--keris-blue);border-radius:50%;animation:blink 1.4s infinite}
.dot:nth-child(2){animation-delay:.2s}.dot:nth-child(3){animation-delay:.4s}
@keyframes blink{0%,60%,100%{opacity:.5;transform:scale(1)}30%{opacity:1;transform:scale(1.25)}}

.input-bar{position:sticky;bottom:0;left:0;right:0;padding:10px 12px;display:flex;gap:8px;background:transparent;backdrop-filter:blur(6px)}
.input-bar input{flex:1;padding:12px;border-radius:14px;border:1px solid var(--border);background:rgba(255,255,255,.12);color:#fff;outline:none}
.input-bar input::placeholder{color:rgba(255,255,255,.7)}
.input-bar button{padding:12px 14px;border-radius:12px;border:none;background:linear-gradient(135deg,var(--keris-blue),var(--keris-blue-2));color:#fff;font-weight:700;cursor:pointer;box-shadow:0 4px 12px rgba(0,75,135,.3)}
.input-bar button:disabled{opacity:.6;cursor:not-allowed}

.error-banner{display:none;margin:6px 16px 0;color:#fff;background:rgba(239,68,68,.2);border:1px solid rgba(239,68,68,.4);padding:8px 12px;border-radius:10px}
.error-banner.show{display:block}

.welcome{opacity:.9}

@media(max-width:768px){
  .container{padding:0;gap:0}
  .sidebar{position:fixed;left:0;top:0;bottom:0;width:280px;border-radius:0;z-index:10}
  .chat{margin-left:280px;border-radius:0}
}
